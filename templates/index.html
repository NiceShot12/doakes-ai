
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doakes AI - Safety Alert System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">
    <header>
        <h1>ğŸ›¡ï¸ Doakes AI</h1>
        <p class="subtitle">Your intelligent safety alert system - Real-time weather alerts, crime data, and safety notifications</p>
    </header>

    <div class="notification-setup" id="notification-setup">
        <h3>ğŸ”” Enable Alerts</h3>
        <p>Get notified about dangers in your area via email, SMS, or browser notifications!</p>
        
        <div class="notification-options">
            <div class="notif-option">
                <label>ğŸ“§ Email Alerts:</label>
                <input type="email" id="email-input" placeholder="your@email.com" />
            </div>
            
            <div class="notif-option">
                <label>ğŸ“± SMS Alerts:</label>
                <input type="tel" id="phone-input" placeholder="+1234567890" />
            </div>
            
            <div class="notif-option">
                <label>ğŸ”” Browser Notifications:</label>
                <button id="enable-browser-notif" onclick="enableBrowserNotifications()">Enable</button>
                <span id="browser-notif-status"></span>
            </div>
        </div>
        
        <button class="save-btn" onclick="saveNotificationSettings()">Save Settings</button>
        <button class="test-btn" onclick="testAlerts()">Test Alerts</button>
    </div>

    <div class="search-section">
        <div class="input-group">
            <input id="location-input" type="text" placeholder="Enter location (ZIP, city, address, street, etc.)" />
            <button id="check-btn" onclick="checkSafety()">Check Safety</button>
        </div>
        <p class="help-text">Examples: "90210" â€¢ "New York, NY" â€¢ "123 Main St, Boston" â€¢ "Chicago"</p>
        <p class="help-text">Or chat with Doakes AI below ğŸ‘‡</p>
    </div>

    <div class="results-container" id="results-container">
        <!-- Safety results will appear here -->
    </div>

    <div class="chat-section">
        <div id="chat-box" class="chat-box">
            <div class="welcome-message">
                <p>ğŸ‘‹ Hi! I'm Doakes AI. I can help you check for:</p>
                <ul>
                    <li>â›ˆï¸ Weather alerts & natural disasters</li>
                    <li>ğŸ”’ Crime safety information</li>
                    <li>ğŸŒ¤ï¸ Current conditions</li>
                    <li>ğŸ“§ Email & SMS alerts</li>
                </ul>
                <p><strong>Try any location format:</strong></p>
                <ul>
                    <li>ZIP codes: "90210"</li>
                    <li>Cities: "Los Angeles, CA"</li>
                    <li>Addresses: "123 Main Street, Boston"</li>
                    <li>Just city names: "Chicago"</li>
                </ul>
                <p>Enable notifications above to get automatic alerts!</p>
            </div>
        </div>

        <div class="chat-input-area">
            <input id="user-input" type="text" placeholder="Ask about any location or enter address/city/ZIP..." />
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>

<!-- Hidden audio for alarm sound -->
<audio id="alarm-sound" preload="auto">
    <source src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" type="audio/mpeg">
</audio>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
